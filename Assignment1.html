<!DOCTYPE html>
<html>

<head>
  <title>Student Details</title>
</head>

<body>
  <h2>All Student Names</h2>
  <ul id="nameList"></ul>

  <h2>Students Scored More Than 60</h2>
  <ul id="above60"></ul>

  <h2>Department Count</h2>
  <p id="deptWiseCount"></p>

  <h2>Top Scorer</h2>
  <p id="highestmark"></p>

  <table>
    <tr>
      <th>Name</th>
      <th>Marks</th>
      <th>Department</th>
    </tr>
    <tbody id="studentTable">

    </tbody>
  </table>

  <h2>Average Marks</h2>
  <p id="avgmark"></p>

  <h2>Only CSE Students</h2>
  <ul id="cseonly">"onlyCSE"</ul>

  <h2>Students Marks in Descending</h2>
  <ul id="Sorting"></ul>

  <h2>Newly Added Student</h2>
  <ul id="added"></ul>

  <h2>Highlighted students mark less than 50 </h2>
  <ul id="lessthan50"></ul>

  <script>
    const students = [
      { id: 1, name: "Amit", marks: 78, department: "CSE" },
      { id: 2, name: "Priya", marks: 92, department: "ECE" },
      { id: 3, name: "Rahul", marks: 45, department: "MECH" },
      { id: 4, name: "Sneha", marks: 66, department: "CSE" },
      { id: 5, name: "Kiran", marks: 88, department: "ECE" }
    ];

    // 1.Displaying all student names

    for (let i = 0; i < students.length; i++) {
      let li = document.createElement("li");
      li.innerText = students[i].name;
      document.getElementById("nameList").appendChild(li);
    }

    // 2.Displaying students with marks > 60

    for (let i = 0; i < students.length; i++) {
      if (students[i].marks > 60) {
        let li = document.createElement("li");
        li.innerText = students[i].name + " - " + students[i].marks;
        document.getElementById("above60").appendChild(li);
      }
    }

    // 3.Counting students in each department

    var dptcse = 0
    var dptece = 0
    var dptmech = 0

    for (let i = 0; i < students.length; i++) {
      if (students[i].department == "CSE") {
        dptcse++
      }
      else if (students[i].department == "ECE") {
        dptece++
      }
      else {
        dptmech++;
      }
    }

    document.getElementById("deptWiseCount").innerText = "CSE: " + dptcse + ", ECE: " + dptece + ", MECH: " + dptmech;

    // 4.Students with highest marks

    var marks = 0
    var name = null

    for (let i = 0; i < students.length; i++) {
      if (students[i].marks > marks) {
        marks = students[i].marks
        name = students[i].name
      }
    }

    document.getElementById("highestmark").innerHTML = "Highest Marks = " + marks + name

    // 5.Displaying students in a table

    var tbody = document.getElementById("studentTable")
    tbody.innerHTML = ""

    for (let i = 0; i < students.length; i++) {
      let rows = tbody.insertRow();

      let nameblock = rows.insertCell(0)
      let markblock = rows.insertCell(1)
      let dptblock = rows.insertCell(2)

      nameblock.innerHTML = students[i].name
      markblock.innerHTML = students[i].marks
      dptblock.innerHTML = students[i].department
    }

    // 6.Average marks

    var sum = 0
    for (let i = 0; i < students.length; i++) {
      sum = sum + students[i].marks
    }

    var Average = sum / students.length

    document.getElementById("avgmark").innerHTML = (`Total Average Marks = ${Average}`)


    // 7.Displaying only CSE students

    for (let i = 0; i < students.length; i++) {
      if (students[i].department == "CSE") {
        let li = document.createElement("li");
        li.innerText = students[i].name + " : " + students[i].department;
        document.getElementById("cseonly").appendChild(li);
      }
    }

    // 8.Sorting by marks

    var sortedStudents = [...students]
    sortedStudents.sort((a, b) => b.marks - a.marks)

    for (let i = 0; i < students.length; i++) {
      let li = document.createElement("li");
      li.innerText = sortedStudents[i].name + " : " + sortedStudents[i].marks + " : " + sortedStudents[i].department;
      document.getElementById("Sorting").appendChild(li);
    }

    // 9.Adding new student

    var newStudent = {
      id: 6,
      name: "Prasanna Kumar",
      marks: 30,
      department: "ECE"
    }

    students.push(newStudent)

    for (let i = 0; i < students.length; i++) {
      let li = document.createElement("li");
      li.innerText = students[i].name + " : " + students[i].marks + " : " + students[i].department;
      document.getElementById("added").appendChild(li);
    }

    // 10. Displaying below average student

    for (let i = 0; i < students.length; i++) {
      let li = document.createElement("li");
      li.innerText = students[i].name + " : " + students[i].marks + " : " + students[i].department;

      if (students[i].marks < 50) {
        li.style.color = "red"
      }
      document.getElementById("lessthan50").appendChild(li);
    }
  </script>
</body>

</html>
